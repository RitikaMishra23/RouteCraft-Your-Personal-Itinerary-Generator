{% extends "headers.html" %}
{% block content %}
<style>

  body{
    background-image: url('static/TR.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    
  }
  
  .container {
    padding: 5px;
    border-radius: 8px;
  }
</style>

<!-- Main Content -->

  <main >
    <div class="container">
    <h1>Contact Us</h1>
    <p class="display-7" style="margin-bottom: 3px;">
      Should you have any questions or suggestions, please don't hesitate to reach out. 
    </p>
    <p class="display-7" style="margin-top: 0; margin-bottom: 20px;">
      We're always eager to hear from you and improve our service..    
    </p>
    <div style="display: none;" class="alert alert-success" id="success-alert" role="alert">
      Thank you for contacting us! We will get back to you soon.
    </div>

    <form id="form">
      <div class="mb-3">
        <label for="name" class="form-label">Name :</label>
        <input type="text" class="form-control" id="name" name="name" value="{{ user_name }}"  style="width: 400px;">
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">Email :</label>
        <input type="email" class="form-control" id="email" name="email" value="{{ user_email }}"  style="width: 400px;">
      </div>
      <div class="mb-3">
        <label for="message" class="form-label">Message:</label>
        <textarea class="form-control" id="message" name="message" rows="3" style="width: 400px;"></textarea>
      </div>
      <input type="submit" class="btn btn-primary" id="button" value="Submit" >
      <!-- <button type="submit" id="button" class="btn btn-primary" value="Send Email"></button> -->
    </form>
  </div>
</main>
<!-- Share Icon -->

<!-- Footer -->

<footer class="jumbotron">
  <!-- Footer content removed -->
</footer>

<script type="text/javascript"
  src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

  <!-- EmailJS Setup -->
<script type="text/javascript">
  emailjs.init('Public Key') // Replace with your emailjs public key
</script>

<script>

const btn = document.getElementById('button');
const alerter = document.getElementById('success-alert');

document.getElementById('form')
 .addEventListener('submit', function(event) {
   event.preventDefault();

   btn.value = 'Submitting...';

   const serviceID = 'service_id'; // Replace with your service_id
   const templateID = 'template_id'; // Replace with yout template id

   emailjs.sendForm(serviceID, templateID, this)
    .then(() => {
      alerter.style.display = 'block';
      btn.value = 'Submitted';
      
    }, (err) => {
      btn.value = 'Submit';
      alert(JSON.stringify(err));
    });
});


</script>

{% endblock %}
</body>

</html>